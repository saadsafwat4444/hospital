function q(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function c(i,t,n){return t=y(t),L(i,P()?Reflect.construct(t,n||[],y(i).constructor):t.apply(i,n))}function o(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function N(i,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,j(e.key),e)}}function u(i,t,n){return t&&N(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function R(i,t,n){return(t=j(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function y(i){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(i)}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&g(i,t)}function P(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!i})()}function m(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),n.push.apply(n,e)}return n}function f(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(e){R(i,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))})}return i}function L(i,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(i)}function g(i,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},g(i,t)}function F(i,t){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var e=n.call(i,t);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function j(i){var t=F(i,"string");return typeof t=="symbol"?t:t+""}function p(i){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(i)}var w=function(){function i(){o(this,i)}return u(i,[{key:"listenForWhisper",value:function(n,e){return this.listen(".client-"+n,e)}},{key:"notification",value:function(n){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",n)}},{key:"stopListeningForWhisper",value:function(n,e){return this.stopListening(".client-"+n,e)}}])}(),O=function(){function i(t){o(this,i),this.namespace=t}return u(i,[{key:"format",value:function(n){return[".","\\"].includes(n.charAt(0))?n.substring(1):(this.namespace&&(n=this.namespace+"."+n),n.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(n){this.namespace=n}}])}();function x(i){try{new i}catch(t){if(t instanceof Error&&t.message.includes("is not a constructor"))return!1}return!0}var _=function(i){function t(n,e,r){var s;return o(this,t),s=c(this,t),s.name=e,s.pusher=n,s.options=r,s.eventFormatter=new O(s.options.namespace),s.subscribe(),s}return a(t,i),u(t,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(e,r){return this.on(this.eventFormatter.format(e),r),this}},{key:"listenToAll",value:function(e){var r=this;return this.subscription.bind_global(function(s,h){var l;if(!s.startsWith("pusher:")){var v=String((l=r.options.namespace)!==null&&l!==void 0?l:"").replace(/\./g,"\\"),A=s.startsWith(v)?s.substring(v.length+1):"."+s;e(A,h)}}),this}},{key:"stopListening",value:function(e,r){return r?this.subscription.unbind(this.eventFormatter.format(e),r):this.subscription.unbind(this.eventFormatter.format(e)),this}},{key:"stopListeningToAll",value:function(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(e){return this.on("pusher:subscription_succeeded",function(){e()}),this}},{key:"error",value:function(e){return this.on("pusher:subscription_error",function(r){e(r)}),this}},{key:"on",value:function(e,r){return this.subscription.bind(e,r),this}}])}(w),I=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"whisper",value:function(e,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),r),this}}])}(_),X=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"whisper",value:function(e,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),r),this}}])}(_),B=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"here",value:function(e){return this.on("pusher:subscription_succeeded",function(r){e(Object.keys(r.members).map(function(s){return r.members[s]}))}),this}},{key:"joining",value:function(e){return this.on("pusher:member_added",function(r){e(r.info)}),this}},{key:"whisper",value:function(e,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),r),this}},{key:"leaving",value:function(e){return this.on("pusher:member_removed",function(r){e(r.info)}),this}}])}(I),S=function(i){function t(n,e,r){var s;return o(this,t),s=c(this,t),s.events={},s.listeners={},s.name=e,s.socket=n,s.options=r,s.eventFormatter=new O(s.options.namespace),s.subscribe(),s}return a(t,i),u(t,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(e,r){return this.on(this.eventFormatter.format(e),r),this}},{key:"stopListening",value:function(e,r){return this.unbindEvent(this.eventFormatter.format(e),r),this}},{key:"subscribed",value:function(e){return this.on("connect",function(r){e(r)}),this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,r){var s=this;return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=function(h,l){s.name===h&&s.listeners[e]&&s.listeners[e].forEach(function(v){return v(l)})},this.socket.on(e,this.events[e])),this.listeners[e].push(r),this}},{key:"unbind",value:function(){var e=this;Object.keys(this.events).forEach(function(r){e.unbindEvent(r)})}},{key:"unbindEvent",value:function(e,r){this.listeners[e]=this.listeners[e]||[],r&&(this.listeners[e]=this.listeners[e].filter(function(s){return s!==r})),(!r||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}])}(w),E=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"whisper",value:function(e,r){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:r}),this}}])}(S),W=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"here",value:function(e){return this.on("presence:subscribed",function(r){e(r.map(function(s){return s.user_info}))}),this}},{key:"joining",value:function(e){return this.on("presence:joining",function(r){return e(r.user_info)}),this}},{key:"whisper",value:function(e,r){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:r}),this}},{key:"leaving",value:function(e){return this.on("presence:leaving",function(r){return e(r.user_info)}),this}}])}(E),d=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(e,r){return this}},{key:"listenToAll",value:function(e){return this}},{key:"stopListening",value:function(e,r){return this}},{key:"subscribed",value:function(e){return this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,r){return this}}])}(w),T=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"whisper",value:function(e,r){return this}}])}(d),D=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"whisper",value:function(e,r){return this}}])}(d),Q=function(i){function t(){return o(this,t),c(this,t,arguments)}return a(t,i),u(t,[{key:"here",value:function(e){return this}},{key:"joining",value:function(e){return this}},{key:"whisper",value:function(e,r){return this}},{key:"leaving",value:function(e){return this}}])}(T),b=function(){function i(t){o(this,i),this.setOptions(t),this.connect()}return u(i,[{key:"setOptions",value:function(n){this.options=f(f(f({},i._defaultOptions),n),{},{broadcaster:n.broadcaster});var e=this.csrfToken();e&&(this.options.auth.headers["X-CSRF-TOKEN"]=e,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=e),e=this.options.bearerToken,e&&(this.options.auth.headers.Authorization="Bearer "+e,this.options.userAuthentication.headers.Authorization="Bearer "+e)}},{key:"csrfToken",value:function(){var n;return typeof window<"u"&&typeof window.Laravel<"u"&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(n=document.querySelector('meta[name="csrf-token"]'))?n.getAttribute("content"):null}}])}();b._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};var k=function(i){function t(){var n;return o(this,t),n=c(this,t,arguments),n.channels={},n}return a(t,i),u(t,[{key:"connect",value:function(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(e,r,s){return this.channel(e).listen(r,s)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new _(this.pusher,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new I(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"encryptedPrivateChannel",value:function(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new X(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new B(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var r=this,s=[e,"private-"+e,"private-encrypted-"+e,"presence-"+e];s.forEach(function(h){r.leaveChannel(h)})}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}])}(b),V=function(i){function t(){var n;return o(this,t),n=c(this,t,arguments),n.channels={},n}return a(t,i),u(t,[{key:"connect",value:function(){var e,r=this,s=this.getSocketIO();this.socket=s((e=this.options.host)!==null&&e!==void 0?e:void 0,this.options),this.socket.on("reconnect",function(){Object.values(r.channels).forEach(function(h){h.subscribe()})})}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(e,r,s){return this.channel(e).listen(r,s)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new S(this.socket,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new E(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new W(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var r=this,s=[e,"private-"+e,"presence-"+e];s.forEach(function(h){r.leaveChannel(h)})}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}])}(b),C=function(i){function t(){var n;return o(this,t),n=c(this,t,arguments),n.channels={},n}return a(t,i),u(t,[{key:"connect",value:function(){}},{key:"listen",value:function(e,r,s){return new d}},{key:"channel",value:function(e){return new d}},{key:"privateChannel",value:function(e){return new T}},{key:"encryptedPrivateChannel",value:function(e){return new D}},{key:"presenceChannel",value:function(e){return new Q}},{key:"leave",value:function(e){}},{key:"leaveChannel",value:function(e){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}])}(b),K=function(){function i(t){o(this,i),this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return u(i,[{key:"channel",value:function(n){return this.connector.channel(n)}},{key:"connect",value:function(){if(this.options.broadcaster==="reverb")this.connector=new k(f(f({},this.options),{},{cluster:""}));else if(this.options.broadcaster==="pusher")this.connector=new k(this.options);else if(this.options.broadcaster==="socket.io")this.connector=new V(this.options);else if(this.options.broadcaster==="null")this.connector=new C(this.options);else if(typeof this.options.broadcaster=="function"&&x(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(p(this.options.broadcaster)," ").concat(String(this.options.broadcaster)," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(n){return this.connector.presenceChannel(n)}},{key:"leave",value:function(n){this.connector.leave(n)}},{key:"leaveChannel",value:function(n){this.connector.leaveChannel(n)}},{key:"leaveAllChannels",value:function(){for(var n in this.connector.channels)this.leaveChannel(n)}},{key:"listen",value:function(n,e,r){return this.connector.listen(n,e,r)}},{key:"private",value:function(n){return this.connector.privateChannel(n)}},{key:"encryptedPrivate",value:function(n){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(n);throw new Error("Broadcaster ".concat(p(this.options.broadcaster)," ").concat(String(this.options.broadcaster)," does not support encrypted private channels."))}},{key:"connectorSupportsEncryptedPrivateChannels",value:function(n){return n instanceof k||n instanceof C}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":p(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var n=this;Vue.http.interceptors.push(function(e,r){n.socketId()&&e.headers.set("X-Socket-ID",n.socketId()),r()})}},{key:"registerAxiosRequestInterceptor",value:function(){var n=this;axios.interceptors.request.use(function(e){return n.socketId()&&(e.headers["X-Socket-Id"]=n.socketId()),e})}},{key:"registerjQueryAjaxSetup",value:function(){var n=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(e,r,s){n.socketId()&&s.setRequestHeader("X-Socket-Id",n.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var n=this;document.addEventListener("turbo:before-fetch-request",function(e){e.detail.fetchOptions.headers["X-Socket-Id"]=n.socketId()})}}])}();window._=require("lodash");window.axios=require("axios");window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=require("pusher-js");window.Echo=new K({broadcaster:"pusher",key:"673e2073f76019327e69",cluster:"mt1",forceTLS:!0});require("alpinejs");
